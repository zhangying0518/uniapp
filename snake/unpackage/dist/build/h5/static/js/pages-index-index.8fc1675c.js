(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"166a":function(t,i,e){"use strict";var n=e("c55a"),r=e.n(n);r.a},"6ebe":function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return r})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"wrapper"},[e("v-uni-view",{staticClass:"btnStart",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.btnStart.apply(void 0,arguments)}}},[t._v(t._s(t.btnStartValue))]),e("v-uni-view",{staticClass:"score"},[e("span",{staticStyle:{"margin-right":"30rpx"}},[t._v("分数："+t._s(10*t.scoreSpan))]),e("span",[t._v("最高分："+t._s(10*t.maxSpan))])]),e("v-uni-canvas",{attrs:{"canvas-id":"canvas",id:"canvas"}}),e("v-uni-view",{staticClass:"gameover",class:t.gameover?"gameoverShow":"gameoverHide"},[t._v("Game Over!")]),e("v-uni-view",{staticClass:"direction_content"},[e("v-uni-view",{staticClass:"direction_view top_direction",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowUp.apply(void 0,arguments)}}},[e("img",{attrs:{src:"http://47.92.83.204:8080/zhangying/img/snake/up.png"}})]),e("v-uni-view",{staticClass:"direction_view left_direction",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowLeft.apply(void 0,arguments)}}},[e("img",{attrs:{src:"http://47.92.83.204:8080/zhangying/img/snake/left.png"}})]),e("v-uni-view",{staticClass:"direction_view bottom_direction",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowDown.apply(void 0,arguments)}}},[e("img",{attrs:{src:"http://47.92.83.204:8080/zhangying/img/snake/111.png"}})]),e("v-uni-view",{staticClass:"direction_view right_direction",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowRight.apply(void 0,arguments)}}},[e("img",{attrs:{src:"http://47.92.83.204:8080/zhangying/img/snake/right.png"}})])],1),e("v-uni-view",{staticClass:"desc"},[t._v("游戏说明:蛇头碰到四周边缘或舌头与舍身相接触都会使游戏结束！！！")])],1)},a=[]},"7fa6":function(t,i,e){"use strict";e.r(i);var n=e("6ebe"),r=e("89ee");for(var a in r)"default"!==a&&function(t){e.d(i,t,(function(){return r[t]}))}(a);e("166a");var o,s=e("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"6d254fee",null,!1,n["a"],o);i["default"]=c.exports},"89ee":function(t,i,e){"use strict";e.r(i);var n=e("9029"),r=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=r.a},9029:function(t,i,e){"use strict";e("45fc"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{coverImg:"http://47.92.83.204:8080/zhangying/img/snake/fengmian.png",maxSpan:0,ctx:"",btnStartValue:"开始",scoreSpan:0,x:0,y:0,snake:[{x:3,y:0},{x:2,y:0},{x:1,y:0}],isEated:!1,gameover:!1,isGameOver:!0,directionX:1,directionY:0,curDir:"",isKeyDown:!1}},onReady:function(t){var i=uni.createCanvasContext("canvas"),e=uni.getStorageSync("maxScore");this.ctx=i,this.maxSpan=e||0,this.renderWelcome(),this.timer(),this.keydownFun()},methods:{keydownFun:function(){var t=this;document.addEventListener("keydown",(function(i){if(!t.isKeyDown&&(t.isKeyDown=!0,("right"!==t.curDir||37!==i.keyCode)&&("down"!==t.curDir||38!==i.keyCode)&&("left"!==t.curDir||39!==i.keyCode)&&("up"!==t.curDir||40!==i.keyCode)))switch(i.keyCode){case 38:t.directionX=0,t.directionY=-1,t.curDir="up";break;case 40:t.directionX=0,t.directionY=1,t.curDir="down";break;case 37:t.directionX=-1,t.directionY=0,t.curDir="left";break;case 39:t.directionX=1,t.directionY=0,t.curDir="right";break}}))},timer:function(){var t=this;setInterval((function(){if(!t.isGameOver){t.ctx.clearRect(0,0,300,300);var i=t.snake[0],e={x:i.x+t.directionX,y:i.y+t.directionY};e.y<0||e.x<0||30*e.x>=300||30*e.y>=300||t.snake.some((function(t){return t.x===e.x&&t.y===e.y}))?(t.isGameOver=!0,t.gameover=!0,uni.setStorageSync("maxScore",t.maxSpan)):(t.snake.unshift(e),30*t.snake[0].x===t.x&&30*t.snake[0].y===t.y?(t.isEated=!0,t.scoreSpan++,t.scoreSpan>t.maxSpan&&(t.maxSpan=t.scoreSpan)):(t.isEated=!1,t.snake.pop()),t.renderSnake(),t.renderFood(),t.renderMap(),t.isKeyDown=!1)}}),1e3/3)},arrowUp:function(){"down"!=this.curDir&&(this.directionX=0,this.directionY=-1,this.curDir="up")},arrowLeft:function(){"right"!=this.curDir&&(this.directionX=-1,this.directionY=0,this.curDir="left")},arrowDown:function(){"up"!=this.curDir&&(this.directionX=0,this.directionY=1,this.curDir="down")},arrowRight:function(){"left"!=this.curDir&&(this.directionX=1,this.directionY=0,this.curDir="right")},btnStart:function(){this.btnStartValue="重新开始",this.gameover=!1,this.isEated=!1,this.x=30*Math.floor(10*Math.random()),this.y=30*Math.floor(10*Math.random()),this.directionX=1,this.directionY=0,this.snake=[{x:3,y:0},{x:2,y:0},{x:1,y:0}],this.isGameOver=!1,this.curDir="right",this.isKeyDown=!1,this.scoreSpan="0"},renderWelcome:function(){this.ctx.drawImage(this.coverImg,0,0,300,300),this.ctx.draw()},renderMap:function(){for(var t=1;t<10;t++){var i=30*t+.5;this.ctx.moveTo(0,i),this.ctx.lineTo(300,i),this.ctx.moveTo(i,0),this.ctx.lineTo(i,300)}this.ctx.strokeStyle="white",this.ctx.stroke(),this.ctx.draw()},renderFood:function(){this.isEated&&(this.x=30*Math.floor(10*Math.random()),this.y=30*Math.floor(10*Math.random())),this.ctx.fillStyle="#cccc00",this.ctx.fillRect(this.x,this.y,30,30),this.ctx.stroke()},renderSnake:function(){for(var t=0;t<this.snake.length;t++)this.ctx.fillStyle=0===t?"#ff0033":"#333399",this.ctx.fillRect(30*this.snake[t].x,30*this.snake[t].y,30,30)}}};i.default=n},c55a:function(t,i,e){var n=e("de89");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=e("4f06").default;r("2bc96cb5",n,!0,{sourceMap:!1,shadowMode:!1})},de89:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".wrapper[data-v-6d254fee]{position:relative;width:%?750?%;margin:0 auto;border:1px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box}.btnStart[data-v-6d254fee]{width:40%;margin:%?60?% %?20?%;color:#fff;text-align:center;padding:%?10?%;font-weight:700;-webkit-border-radius:%?20?%;border-radius:%?20?%;font-size:%?40?%;background:#3c9}uni-canvas[data-v-6d254fee]{width:300px;height:300px;display:block;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#3c9;position:absolute;top:%?170?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.gameoverShow[data-v-6d254fee]{display:block!important}.gameoverHide[data-v-6d254fee]{display:none!important}.gameover[data-v-6d254fee]{position:absolute;top:%?170?%;bottom:0;right:0;width:100%;line-height:300px;height:300px;text-align:center;color:#fff;font-size:%?80?%;background-color:rgba(0,0,0,.6)}.score[data-v-6d254fee]{position:absolute;right:%?30?%;top:0;font-weight:700}.direction_content[data-v-6d254fee]{width:100%;height:%?150?%;position:absolute;top:410px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.direction_view[data-v-6d254fee]{width:%?80?%;height:%?80?%;position:absolute;padding:%?10?%}.direction_view img[data-v-6d254fee]{width:100%;height:100%}.left_direction[data-v-6d254fee]{top:60%;left:20%}.bottom_direction[data-v-6d254fee]{top:140%;left:45%}.right_direction[data-v-6d254fee]{top:60%;left:70%}.top_direction[data-v-6d254fee]{top:0;left:45%}.desc[data-v-6d254fee]{position:fixed;bottom:%?20?%;left:%?20?%;color:#3c9}",""]),t.exports=i}}]);